<!DOCTYPE html>
<html lang="{{ or site.Language.LanguageCode }}" dir="{{ or site.Language.LanguageDirection `ltr` }}">

  <head>
    {{- $avatarImgSrc := .Site.Params.AvatarURL -}}
    {{- if and (isset site.Params "avatarURL") (not (hasPrefix $avatarImgSrc "http")) -}}
    {{- $avatarImgSrc = (urls.JoinPath $.Site.BaseURL ($.Site.Params.AvatarURL | default "")) -}}
    {{- end -}}
    {{- .Scratch.Set "avatarImgSrc" $avatarImgSrc -}}

    {{- partial "head.html" . -}}

  </head>

  <body>
    <script>
      // Immediately set theme on page load
      setThemeByUserPref();
    </script>
    {{- partial "header.html" . -}}
    <main id="content">
      {{- block "main" . }}{{- end }}
    </main>
    {{- partial "footer.html" . -}}
    </footer>
  </body>

</html>
